<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>단단 DanDan – SSRC TEAM • 2025</title>
  <meta name="description" content="단단(DanDan) SSRC TEAM의 2025 시즌 결과/제작과정/로드맵을 한눈에 보여주는 원페이지 팀 사이트" />
  <style>
    :root{
      /* Brand from guide: 진한 초록(#035735, #055936) + 보조색 */
      --bg:#0b0f14; --panel:#0f172a; --muted:#94a3b8; --text:#e5e7eb;
      --brand:#035735; --brand-2:#055936; --accent:#3b82f6; --ring:#334155;
      --card:#101826;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,Pretendard,Helvetica,Arial,sans-serif;background:
      radial-gradient(1200px 800px at 10% -10%,rgba(5,89,54,.12),rgba(0,0,0,0)),
      radial-gradient(1000px 600px at 110% 10%,rgba(59,130,246,.08),rgba(0,0,0,0)),
      var(--bg);color:var(--text);line-height:1.65;-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1180px;margin:0 auto;padding:1.2rem}
    .sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap}

    /* Top nav */
    header.nav{position:sticky;top:0;backdrop-filter:saturate(140%) blur(12px);background:rgba(17,24,39,.7);border-bottom:1px solid var(--ring);z-index:60}
    header .row{display:flex;align-items:center;gap:.8rem;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:.6rem;font-weight:800}
    .brand .logo{width:30px;height:30px;border-radius:8px;background:conic-gradient(from 120deg, var(--brand), var(--brand-2), #0ea5a0);box-shadow:0 0 0 2px #000 inset}
    .brand span{letter-spacing:.2px}
    .navlinks{display:flex;gap:.6rem;flex-wrap:wrap}
    .navlinks a{opacity:.85;padding:.45rem .65rem;border-radius:10px}
    .navlinks a:hover,.navlinks a[aria-current="page"]{opacity:1;background:rgba(148,163,184,.12);outline:2px solid transparent}

    /* Hero */
    .hero{padding:3.2rem 0 2rem;display:grid;grid-template-columns:1.2fr .8fr;gap:1.2rem;align-items:center}
    .hero h1{font-size:clamp(1.9rem,3.3vw,2.9rem);line-height:1.12;margin:.25rem 0}
    .muted{color:var(--muted)}
    .pill{display:inline-flex;align-items:center;gap:.45rem;border:1px solid var(--ring);border-radius:999px;padding:.35rem .7rem;font-size:.9rem;color:#cbd5e1;background:rgba(2,6,23,.6)}
    .cta{display:flex;gap:.7rem;margin-top:1rem;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--ring);background:#0b1220;padding:.62rem .9rem;border-radius:12px}
    .btn.primary{border-color:transparent;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#eafff7;font-weight:800}
    .btn:hover{transform:translateY(-1px)}
    .brand-cards{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
    .brand-card{background:linear-gradient(180deg,rgba(148,163,184,.08),rgba(15,23,42,.55));border:1px solid var(--ring);border-radius:14px;padding:.7rem}

    /* Common cards */
    .grid{display:grid;gap:1rem}
    .kpi{grid-template-columns:repeat(4,minmax(0,1fr))}
    @media (max-width:900px){.kpi{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.hero{grid-template-columns:1fr}.kpi{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg,rgba(148,163,184,.08),rgba(15,23,42,.58));border:1px solid var(--ring);border-radius:16px;padding:1rem;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .card h3{margin:.2rem 0 .45rem;font-size:1.05rem}
    .value{font-size:1.6rem;font-weight:800}
    .sub{font-size:.9rem;color:var(--muted)}
    .tag{font-size:.72rem;color:#94a3b8;border:1px solid var(--ring);border-radius:999px;padding:.1rem .4rem}

    /* Sections */
    section{scroll-margin-top:76px}
    .section{margin:1.6rem 0}
    .section h2{font-size:1.25rem;margin:0 0 .6rem}
    .row-between{display:flex;justify-content:space-between;align-items:center;gap:.6rem}
    .tools{display:flex;gap:.5rem;flex-wrap:wrap}
    .btn.small{padding:.35rem .55rem;border-radius:10px;font-size:.86rem}

    /* Result/Process split with clearer partition */
    .split{display:grid;grid-template-columns:1.2fr .8fr;gap:1.2rem}
    @media (max-width:980px){.split{grid-template-columns:1fr}}
    .cards{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}
    @media (max-width:1000px){.cards{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.cards{grid-template-columns:1fr}}

    /* Gallery for process images */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;margin-top:.5rem}
    .gallery figure{border:1px solid var(--ring);border-radius:10px;overflow:hidden;background:rgba(2,6,23,.4)}
    .gallery figure div{aspect-ratio:16/9;background:#0b1220;display:flex;align-items:center;justify-content:center}
    .gallery img{width:100%;height:100%;object-fit:cover}

    /* Timeline */
    .timeline{position:relative;margin-left:.6rem}
    .timeline:before{content:"";position:absolute;left:10px;top:.2rem;bottom:.2rem;width:2px;background:linear-gradient(var(--brand),transparent)}
    .titem{position:relative;margin:.8rem 0 .8rem 0;padding-left:2rem}
    .titem:before{content:"";position:absolute;left:4px;top:.15rem;width:12px;height:12px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 3px rgba(3,87,53,.25)}

    /* Editing UI */
    .admin{position:fixed;right:14px;bottom:14px;display:flex;flex-direction:column;gap:.5rem;z-index:80}
    .fab{border:1px solid var(--ring);background:linear-gradient(180deg,#0b1220,#0d1526);color:#e5e7eb;border-radius:12px;padding:.55rem .7rem;box-shadow:0 10px 30px rgba(0,0,0,.3)}
    .fab.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#eafff7;border-color:transparent;font-weight:800}
    .admin-panel{position:fixed;right:14px;bottom:68px;display:none;flex-direction:column;gap:.4rem;padding:.7rem;border-radius:14px;background:#0b1220;border:1px solid var(--ring);box-shadow:0 12px 36px rgba(0,0,0,.35)}
    body.editing .admin-panel{display:flex}
    [data-editable]{outline:none}
    body.editing [data-editable]{outline:1px dashed #475569;outline-offset:2px;border-radius:6px}

    /* Focused view: when jump links should hide other sections to avoid clutter */
    body.focused main > *{display:none}
    body.focused main > .section[data-focus="true"],
    body.focused main > .split[data-focus="true"]{display:block}
    .exit-focus{position:fixed;left:14px;bottom:14px;z-index:90;display:none}
    body.focused .exit-focus{display:inline-flex}

    /* Auto-grow for any content blocks (no fixed height) */
    .autogrow{display:block;overflow:visible}
    .autogrow *{overflow-wrap:anywhere;word-break:keep-all}
    footer{margin:2.5rem 0 1rem;color:var(--muted)}
  </style>
</head>
<body>
  <header class="nav">
    <div class="container row">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <span data-editable id="siteName">단단 · DanDan — SSRC TEAM</span>
        <span class="tag">2025</span>
      </div>
      <nav class="navlinks" id="topNav">
        <a href="#results">결과</a>
        <a href="#process">제작과정</a>
        <a href="#roadmap">로드맵</a>
        <a href="#brand">브랜드</a>
        <a href="#team">팀</a>
        <a href="#sponsors">스폰서</a>
        <a href="#contact">문의</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero" id="home">
      <div>
        <span class="pill">단단(DanDan) · SSRC TEAM</span>
        <h1 data-editable id="heroTitle">거북이처럼 단단하고 끝까지 가는 팀</h1>
        <p class="muted" data-editable id="heroSubtitle">
          “속도보다 중요한 건 멈추지 않는 마음.” 느리더라도 포기하지 않고 꾸준히, 끝까지.
        </p>
        <div class="cta">
          <a class="btn primary" id="ctaPrimary" href="#contact">후원 문의</a>
          <a class="btn" id="ctaSecondary" href="#process">제작과정 보기</a>
        </div>
      </div>
      <div class="brand-cards">
        <div class="brand-card">
          <strong>Color</strong>
          <div class="grid" style="grid-template-columns:repeat(3,1fr);gap:.5rem;margin-top:.4rem">
            <div class="card" style="padding:.6rem;background:#ffffff;color:#0b0f14;border:1px solid #e5e7eb"><div>#ffffff</div></div>
            <div class="card" style="padding:.6rem;background:#035735"><div>#035735</div></div>
            <div class="card" style="padding:.6rem;background:#055936"><div>#055936</div></div>
          </div>
        </div>
        <div class="brand-card">
          <strong>Slogan</strong>
          <p class="sub">빠르지 않아도 멈추지 않고 나아가는 꾸준함</p>
          <p class="sub">단순하고 기억하기 쉬운 이름 “단단”</p>
        </div>
      </div>
    </section>

    <!-- KPI -->
    <section class="section" aria-labelledby="kpiTitle" id="kpi">
      <div class="row-between">
        <h2 id="kpiTitle">핵심 지표</h2>
        <div class="tools"><span class="tag">편집모드에서 수정</span></div>
      </div>
      <div class="grid kpi" id="kpiGrid"><!-- filled by JS --></div>
    </section>

    <!-- 결과 / 제작과정 -->
    <div class="split" id="work">
      <!-- 결과 -->
      <section class="section autogrow" id="results" aria-label="결과">
        <div class="row-between">
          <h2>결과 (Results)</h2>
          <div class="tools">
            <button class="btn small" data-act="add-result">+ 결과 추가</button>
          </div>
        </div>
        <div class="cards" id="resultCards"><!-- by JS --></div>
      </section>

      <!-- 제작과정 -->
      <section class="section autogrow" id="process" aria-label="제작과정">
        <div class="row-between">
          <h2>제작과정 (Updates)</h2>
          <div class="tools">
            <button class="btn small" data-act="add-update">+ 업데이트 추가</button>
          </div>
        </div>
        <div class="cards" id="updateCards"><!-- by JS --></div>
      </section>
    </div>

    <!-- 로드맵 -->
    <section class="section" id="roadmap" aria-label="로드맵">
      <div class="row-between">
        <h2>로드맵 & 마일스톤</h2>
        <div class="tools">
          <button class="btn small" data-act="add-milestone">+ 마일스톤 추가</button>
        </div>
      </div>
      <div class="card timeline" id="timeline"><!-- by JS --></div>
    </section>

    <!-- 브랜드(이미지에서 온 가이드 요약) -->
    <section class="section" id="brand" aria-label="브랜드">
      <div class="row-between">
        <h2>브랜드 가이드</h2>
        <div class="tools">
          <span class="tag">색/슬로건/미션은 편집모드로 직접 수정 가능</span>
        </div>
      </div>
      <div class="grid" style="grid-template-columns:1.2fr .8fr;gap:1.2rem">
        <article class="card">
          <h3>미션 & 비전</h3>
          <ul class="sub">
            <li>창의적 협업으로 더 나은 로봇 제작</li>
            <li>거북이처럼 멈추지 않고 앞으로 전진</li>
            <li>서로의 힘을 모아 단단하고 튼튼한 결과</li>
            <li>과정 속에서 함께 성장</li>
          </ul>
        </article>
        <article class="card">
          <h3>로고 샘플</h3>
          <div class="grid" style="grid-template-columns:1fr 1fr;gap:.6rem">
            <figure class="card" style="padding:0">
              <img alt="팀 로고 & 브랜드 가이드" src="e5ba3a60-2fa1-42f8-bfad-ca47429e0290.png">
            </figure>
            <figure class="card" style="padding:0">
              <img alt="팀 미션과 비전" src="d8a40eb2-0e76-43a5-ac19-3a875693787f.png">
            </figure>
          </div>
        </article>
      </div>
    </section>

    <!-- 팀 / 스폰서 -->
    <div class="grid" style="grid-template-columns:1fr 1fr;gap:1.2rem">
      <section class="section" id="team" aria-label="팀">
        <div class="row-between">
          <h2>팀</h2>
          <div class="tools"><button class="btn small" data-act="add-member">+ 팀원 추가</button></div>
        </div>
        <div class="cards" id="teamCards"><!-- by JS --></div>
      </section>

      <section class="section" id="sponsors" aria-label="스폰서">
        <div class="row-between">
          <h2>스폰서</h2>
          <div class="tools"><button class="btn small" data-act="add-sponsor">+ 스폰서 추가</button></div>
        </div>
        <div class="cards" id="sponsorCards"><!-- by JS --></div>
      </section>
    </div>

    <!-- 문의 -->
    <section class="section" id="contact" aria-label="문의">
      <div class="row-between">
        <h2>문의</h2>
        <div class="tools"><span class="tag">상단 버튼 텍스트/링크도 편집 가능</span></div>
      </div>
      <div class="card">
        <p><strong>담당</strong>: <span data-editable id="contactPerson">김재</span></p>
        <p><strong>이메일</strong>: <a href="mailto:" data-editable id="contactEmail">team@example.com</a></p>
        <p class="sub">Github/YouTube/Instagram 등 링크는 업데이트 카드나 팀 카드에 첨부하세요.</p>
      </div>
    </section>

    <footer>
      <p>© <span id="year"></span> <span id="siteNameFoot">DanDan SSRC TEAM</span>. All rights reserved.</p>
    </footer>
  </main>

  <!-- Focus mode exit -->
  <a class="btn exit-focus" id="exitFocus" href="#">전체 보기</a>

  <!-- 편집 모드 FAB -->
  <div class="admin" role="region" aria-label="편집 도구">
    <button class="fab" id="toggleEdit">✎ 편집 모드</button>
    <div class="admin-panel">
      <button class="fab primary" id="save">저장</button>
      <button class="fab" id="export">내보내기(JSON)</button>
      <label class="fab" style="cursor:pointer">
        가져오기(JSON)
        <input id="import" type="file" accept="application/json" hidden />
      </label>
      <button class="fab" id="reset">초기화(예시 데이터)</button>
    </div>
  </div>

  <script>
    // ----- 데이터 모델 -----
    const STORAGE_KEY = 'teamSiteData_v2';
    const defaultData = {
      site:{ name: '단단 · DanDan — SSRC TEAM' },
      hero:{
        title:'거북이처럼 단단하고 끝까지 가는 팀',
        subtitle:'“속도보다 중요한 건 멈추지 않는 마음.” 느리더라도 포기하지 않고 꾸준히, 끝까지.',
        ctaPrimaryText:'후원 문의', ctaPrimaryLink:'#contact',
        ctaSecondaryText:'제작과정 보기', ctaSecondaryLink:'#process'
      },
      kpis:[
        {label:'주요 기능 완성도', value:'70%', sub:'MVP 기준'},
        {label:'테스트 누적 시간', value:'120h', sub:'시뮬+현장'},
        {label:'참여 인원', value:'12', sub:'core 8 / sub 4'},
        {label:'후원사', value:'2', sub:'active'}
      ],
      results:[
        {title:'시즌 전반 설계 완료', metric:'CAD 95%', desc:'주요 모듈 설계/간섭검토 마감', link:''},
        {title:'주행 성능', metric:'성공률 92%', desc:'테스트 트랙 50회 평균', link:''},
        {title:'문서화', metric:'문서 35개', desc:'설계/전장/소프트웨어 위키', link:''}
      ],
      updates:[
        {date:dateStr(-6), title:'드라이브 트레인 개정', status:'in-progress', tags:['mechanical'], desc:'체인 텐션 조정 및 하우징 보강', images:[], link:''},
        {date:dateStr(-3), title:'경로 계획 알고리즘 튜닝', status:'done', tags:['software'], desc:'PID 게인 리파인 및 곡선 추종 안정화', images:[], link:''},
        {date:dateStr(-1), title:'배터리 리스케줄링', status:'in-review', tags:['ops'], desc:'사이클 관리표 자동화', images:[], link:''}
      ],
      milestones:[
        {date:dateStr(-14), title:'킥오프 & 요구사항 정리', note:'목표지표(KPI) 합의'},
        {date:dateStr(-7), title:'MVP 통합', note:'주행+인식 파이프라인 결합'},
        {date:dateStr(7), title:'스폰서 데모', note:'실주행+간단 시연'},
        {date:dateStr(21), title:'릴리즈 후보', note:'문서/안전점검 포함'}
      ],
      team:[
        {name:'홍길동', role:'Lead', link:''},
        {name:'김하나', role:'Mechanical', link:''},
        {name:'박지우', role:'Software', link:''}
      ],
      sponsors:[
        {name:'Acme Corp', link:'', logo:''},
        {name:'Beta Lab', link:'', logo:''}
      ],
      contact:{ person:'김재', email:'team@example.com' }
    };

    function dateStr(dOffset){ const d = new Date(); d.setDate(d.getDate()+dOffset); return d.toISOString().slice(0,10); }
    let state = load();

    // ----- 렌더러 -----
    function render(){
      // 사이트명/푸터/연도
      byId('siteName').textContent = state.site.name;
      byId('siteNameFoot').textContent = state.site.name;
      byId('year').textContent = new Date().getFullYear();

      // 히어로
      byId('heroTitle').textContent = state.hero.title;
      byId('heroSubtitle').textContent = state.hero.subtitle;
      setLink('ctaPrimary', state.hero.ctaPrimaryText, state.hero.ctaPrimaryLink);
      setLink('ctaSecondary', state.hero.ctaSecondaryText, state.hero.ctaSecondaryLink);

      // KPI
      const kpi = byId('kpiGrid'); kpi.innerHTML='';
      state.kpis.forEach((k,i)=>{
        const el = div(`
          <div class="card">
            <div class="sub">${escapeHtml(k.label)}</div>
            <div class="value" data-editable data-kpi="value" data-i="${i}">${escapeHtml(k.value)}</div>
            <div class="sub" data-editable data-kpi="sub" data-i="${i}">${escapeHtml(k.sub || '')}</div>
          </div>`);
        kpi.appendChild(el);
      });

      // 결과
      const res = byId('resultCards'); res.innerHTML='';
      state.results.forEach((r, i)=>{
        const el = div(`
          <article class="card autogrow">
            <div class="row-between"><h3>${escapeHtml(r.title)}</h3><span class="tag">${escapeHtml(r.metric || '')}</span></div>
            <p class="sub">${escapeHtml(r.desc||'')}</p>
            ${r.link?`<p><a href="${escapeAttr(r.link)}" class="btn small" style="margin-top:.4rem">자세히</a></p>`:''}
            ${editBtns('result', i)}
          </article>`);
        res.appendChild(el);
      });

      // 업데이트 (이미지 갤러리 포함)
      const upd = byId('updateCards'); upd.innerHTML='';
      state.updates.sort((a,b)=> (b.date||'').localeCompare(a.date||'') );
      state.updates.forEach((u,i)=>{
        const tags = (u.tags||[]).map(t=>`<span class="tag">${escapeHtml(t)}</span>`).join(' ');
        const gallery = (u.images && u.images.length) ?
          `<div class="gallery">${
            u.images.slice(0,6).map(src => `<figure><div><img alt="update image" src="${escapeAttr(src)}"></div></figure>`).join('')
          }</div>` : '';
        const el = div(`
          <article class="card autogrow">
            <div class="row-between"><h3>${escapeHtml(u.title)}</h3><span class="tag">${escapeHtml(u.status||'')}</span></div>
            <p class="sub">${escapeHtml(u.date||'')}${u.date?' · ':''}${tags}</p>
            <p>${escapeHtml(u.desc||'')}</p>
            ${gallery}
            ${u.link?`<p><a href="${escapeAttr(u.link)}" class="btn small" style="margin-top:.4rem">관련 링크</a></p>`:''}
            ${editBtns('update', i)}
          </article>`);
        upd.appendChild(el);
      });

      // 타임라인
      const tl = byId('timeline'); tl.innerHTML='';
      state.milestones.sort((a,b)=> (a.date||'').localeCompare(b.date||''));
      state.milestones.forEach((m,i)=>{
        const el = div(`
          <div class="titem">
            <div class="sub">${escapeHtml(m.date||'')}</div>
            <div><strong>${escapeHtml(m.title)}</strong></div>
            <div class="sub">${escapeHtml(m.note||'')}</div>
            ${editBtns('milestone', i)}
          </div>`);
        tl.appendChild(el);
      });

      // 팀
      const team = byId('teamCards'); team.innerHTML='';
      state.team.forEach((t,i)=>{
        const el = div(`
          <article class="card">
            <h3>${escapeHtml(t.name)}</h3>
            <p class="sub">${escapeHtml(t.role||'')}</p>
            ${t.link?`<p><a class="btn small" href="${escapeAttr(t.link)}">프로필</a></p>`:''}
            ${editBtns('member', i)}
          </article>`);
        team.appendChild(el);
      });

      // 스폰서
      const sp = byId('sponsorCards'); sp.innerHTML='';
      state.sponsors.forEach((s,i)=>{
        const logo = s.logo ? `<img alt="${escapeAttr(s.name)}" src="${escapeAttr(s.logo)}" style="width:100%;max-height:56px;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))"/>` : `<div class="sub">(로고 이미지 URL 미설정)</div>`;
        const el = div(`
          <article class="card" style="display:flex;flex-direction:column;gap:.5rem;align-items:flex-start;justify-content:center">
            <div style="width:100%">${logo}</div>
            <div class="row-between" style="width:100%"><strong>${escapeHtml(s.name)}</strong>${s.link?`<a class="btn small" href="${escapeAttr(s.link)}">바로가기</a>`:''}</div>
            ${editBtns('sponsor', i)}
          </article>`);
        sp.appendChild(el);
      });

      // 연락처
      byId('contactPerson').textContent = state.contact.person || '';
      const emailEl = byId('contactEmail');
      emailEl.textContent = state.contact.email || '';
      emailEl.href = 'mailto:'+(state.contact.email||'');

      // 편집 가능 마커
      setEditable(document.body.classList.contains('editing'));

      // 포커스 적용
      applyFocusFromHash();
    }

    function setEditable(on){ document.querySelectorAll('[data-editable]').forEach(el=> el.setAttribute('contenteditable', on ? 'true':'false')); }
    function setLink(id, text, href){ const el = byId(id); el.textContent = text || ''; el.href = href || '#'; }
    function editBtns(kind, i){
      return `<div class="tools" style="margin-top:.6rem;display:${document.body.classList.contains('editing')?'flex':'none'}">
        <button class="btn small" data-kind="${kind}" data-idx="${i}" data-cmd="edit">수정</button>
        <button class="btn small" data-kind="${kind}" data-idx="${i}" data-cmd="delete">삭제</button>
      </div>`;
    }

    // ----- 유틸 -----
    function byId(id){ return document.getElementById(id); }
    function div(html){ const el = document.createElement('div'); el.innerHTML = html.trim(); return el.firstElementChild; }
    function escapeHtml(s=''){ return s.replace(/[&<>\"']/g, c=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[c])); }
    function escapeAttr(s=''){ return s.replace(/"/g,'&quot;'); }

    function load(){ try{ const raw = localStorage.getItem(STORAGE_KEY); return raw? JSON.parse(raw): structuredClone(defaultData);}catch(e){ return structuredClone(defaultData); } }
    function save(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }
    function backupDownload(obj, filename){ const blob = new Blob([JSON.stringify(obj,null,2)], {type:'application/json'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = filename; a.click(); URL.revokeObjectURL(a.href); }

    // ----- 편집 모드 -----
    byId('toggleEdit').addEventListener('click',()=>{
      document.body.classList.toggle('editing');
      render();
      if(document.body.classList.contains('editing')){
        alert('편집 모드 활성화\\n- 텍스트 직접 수정\\n- + 버튼으로 카드 추가\\n- 저장/내보내기/가져오기 가능');
      }
    });

    byId('save').addEventListener('click',()=>{
      state.site.name = byId('siteName').textContent.trim();
      state.hero.title = byId('heroTitle').textContent.trim();
      state.hero.subtitle = byId('heroSubtitle').textContent.trim();
      state.contact.person = byId('contactPerson').textContent.trim();
      state.contact.email = byId('contactEmail').textContent.trim();
      document.querySelectorAll('[data-kpi]').forEach(el=>{
        const i = +el.dataset.i; const what = el.dataset.kpi;
        state.kpis[i][what] = el.textContent.trim();
      });
      save();
      alert('저장 완료 (이 브라우저에 보존). 내보내기로 백업하세요.');
      render();
    });

    byId('export').addEventListener('click',()=> backupDownload(state, `${(state.site.name||'team').replace(/\\s+/g,'_')}-site.json`) );
    byId('import').addEventListener('change', async (e)=>{
      const file = e.target.files?.[0]; if(!file) return; const text = await file.text();
      try{ const data = JSON.parse(text); state = data; save(); render(); alert('불러오기 완료'); }
      catch(err){ alert('가져오기 실패: JSON 형식을 확인'); }
      e.target.value = '';
    });
    byId('reset').addEventListener('click',()=>{
      if(confirm('예시 데이터로 초기화할까요?')){ state = structuredClone(defaultData); save(); render(); }
    });

    // 섹션별 추가
    document.body.addEventListener('click', (e)=>{
      const act = e.target.closest('[data-act]')?.dataset.act; if(!act) return;
      if(!document.body.classList.contains('editing')){ alert('편집 모드에서 사용하세요.'); return; }
      if(act==='add-result') addResult();
      if(act==='add-update') addUpdate();
      if(act==='add-milestone') addMilestone();
      if(act==='add-sponsor') addSponsor();
      if(act==='add-member') addMember();
    });

    // 카드 수정/삭제
    document.body.addEventListener('click',(e)=>{
      const btn = e.target.closest('button[data-cmd]'); if(!btn) return;
      if(!document.body.classList.contains('editing')){ alert('편집 모드에서 사용하세요.'); return; }
      const kind = btn.dataset.kind; const i = +btn.dataset.idx; const cmd = btn.dataset.cmd;
      if(cmd==='delete'){
        if(confirm('삭제할까요?')){
          (kind==='result') && state.results.splice(i,1);
          (kind==='update') && state.updates.splice(i,1);
          (kind==='milestone') && state.milestones.splice(i,1);
          (kind==='sponsor') && state.sponsors.splice(i,1);
          (kind==='member') && state.team.splice(i,1);
          save(); render();
        }
        return;
      }
      if(cmd==='edit'){
        if(kind==='result'){
          const t = prompt('제목', state.results[i].title); if(t==null) return;
          const m = prompt('지표/수치(예: 92%)', state.results[i].metric||''); if(m==null) return;
          const d = prompt('설명', state.results[i].desc||''); if(d==null) return;
          const l = prompt('링크(URL 없으면 비워두기)', state.results[i].link||'');
          Object.assign(state.results[i], {title:t, metric:m, desc:d, link:l});
        }
        if(kind==='update'){
          const t = prompt('제목', state.updates[i].title); if(t==null) return;
          const s = prompt('상태(done/in-progress/in-review 등)', state.updates[i].status||''); if(s==null) return;
          const dt = prompt('날짜(YYYY-MM-DD)', state.updates[i].date||dateStr(0)); if(dt==null) return;
          const g = prompt('태그(쉼표로 구분)', (state.updates[i].tags||[]).join(',')); if(g==null) return;
          const d = prompt('설명', state.updates[i].desc||''); if(d==null) return;
          const imgs = prompt('이미지 URL들(쉼표로 구분, 최대 6)', (state.updates[i].images||[]).join(','));
          const l = prompt('링크(URL 없으면 비워두기)', state.updates[i].link||'');
          Object.assign(state.updates[i], {
            title:t, status:s, date:dt,
            tags:(g?g.split(',').map(s=>s.trim()).filter(Boolean):[]),
            desc:d, images:(imgs?imgs.split(',').map(s=>s.trim()).filter(Boolean):[]),
            link:l
          });
        }
        if(kind==='milestone'){
          const t = prompt('제목', state.milestones[i].title); if(t==null) return;
          const dt = prompt('날짜(YYYY-MM-DD)', state.milestones[i].date||dateStr(0)); if(dt==null) return;
          const n = prompt('메모', state.milestones[i].note||''); if(n==null) return;
          Object.assign(state.milestones[i], {title:t, date:dt, note:n});
        }
        if(kind==='sponsor'){
          const n = prompt('스폰서명', state.sponsors[i].name); if(n==null) return;
          const l = prompt('링크(URL)', state.sponsors[i].link||''); if(l==null) return;
          const g = prompt('로고 이미지 URL(선택)', state.sponsors[i].logo||'');
          Object.assign(state.sponsors[i], {name:n, link:l, logo:g});
        }
        if(kind==='member'){
          const n = prompt('이름', state.team[i].name); if(n==null) return;
          const r = prompt('역할', state.team[i].role||''); if(r==null) return;
          const l = prompt('프로필/포트폴리오 링크(선택)', state.team[i].link||'');
          Object.assign(state.team[i], {name:n, role:r, link:l});
        }
        save(); render();
      }
    });

    // 추가 팝업
    function addResult(){
      const title = prompt('결과 제목 (예: 주행 성공률)'); if(!title) return;
      const metric = prompt('지표/수치 (예: 92%)','');
      const desc = prompt('설명','');
      const link = prompt('링크(URL, 선택)','');
      state.results.push({title, metric, desc, link}); save(); render();
    }
    function addUpdate(){
      const title = prompt('업데이트 제목'); if(!title) return;
      const status = prompt('상태 (done/in-progress/in-review 등)','in-progress');
      const date = prompt('날짜(YYYY-MM-DD)', dateStr(0));
      const tags = prompt('태그(쉼표로 구분, 예: mech,drive)','');
      const desc = prompt('설명','');
      const images = prompt('이미지 URL들(쉼표로 구분, 최대 6)','');
      const link = prompt('링크(URL, 선택)','');
      state.updates.push({title,status,date,tags: (tags? tags.split(',').map(s=>s.trim()).filter(Boolean):[]), desc, images: (images? images.split(',').map(s=>s.trim()).filter(Boolean):[]), link}); save(); render();
    }
    function addMilestone(){
      const title = prompt('마일스톤 제목'); if(!title) return;
      const date = prompt('날짜(YYYY-MM-DD)', dateStr(0));
      const note = prompt('메모','');
      state.milestones.push({title,date,note}); save(); render();
    }
    function addSponsor(){
      const name = prompt('스폰서명'); if(!name) return;
      const link = prompt('링크(URL)','');
      const logo = prompt('로고 이미지 URL(선택)','');
      state.sponsors.push({name,link,logo}); save(); render();
    }
    function addMember(){
      const name = prompt('이름'); if(!name) return;
      const role = prompt('역할','');
      const link = prompt('프로필/포트폴리오 URL(선택)','');
      state.team.push({name,role,link}); save(); render();
    }

    // ----- 해시 포커스 모드 -----
    const focusable = new Set(['results','process','roadmap','brand','team','sponsors','contact']);
    function applyFocusFromHash(){
      const id = (location.hash||'').replace('#','');
      const children = Array.from(document.querySelectorAll('main > *'));
      children.forEach(c=>c.removeAttribute('data-focus'));
      if(focusable.has(id)){
        document.body.classList.add('focused');
        children.forEach(sec=>{
          const match = sec.id===id || (sec.classList.contains('split') && (sec.querySelector('#'+id)));
          sec.dataset.focus = match ? 'true':'false';
        });
        // set aria-current on nav
        document.querySelectorAll('#topNav a').forEach(a=> a.removeAttribute('aria-current'));
        const current = document.querySelector(`#topNav a[href="#${id}"]`); if(current) current.setAttribute('aria-current','page');
      }else{
        document.body.classList.remove('focused');
        document.querySelectorAll('#topNav a').forEach(a=> a.removeAttribute('aria-current'));
      }
    }
    window.addEventListener('hashchange', applyFocusFromHash);
    byId('exitFocus').addEventListener('click', (e)=>{
      e.preventDefault(); history.pushState('', document.title, window.location.pathname + window.location.search);
      applyFocusFromHash();
    });

    // 초기 렌더
    render();
  </script>
  <!-- 이미지 파일은 같은 폴더에 저장되어 있다고 가정: e5ba3a60...png, d8a40e...png -->
</body>
</html>
